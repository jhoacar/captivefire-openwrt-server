<?php  namespace App\Responses;use App\Validations\Validation;use Symfony\Component\HttpFoundation\Response as BaseResponse;abstract class Response extends BaseResponse{protected $request=null;protected $validation=null;public function __construct($content='',$status=200,$headers=[]){parent::__construct($content,$status,$headers);}private function setJsonHeaders():void{$this->headers->set('Cache-Control','no-cache');$this->headers->set('Content-Type','application/json');}private function setCorsHeaders():void{$this->headers->set('Access-Control-Allow-Origin','*');$this->headers->set('Access-Control-Allow-Methods','*');}public function setHeaders(){$this->setJsonHeaders();$this->setCorsHeaders();return $this;}public function isValidatedRequest(){return $this->validation !==null &&!$this->validation->isValidatedRequest($this->request);}abstract public function matchRequest($request):bool;abstract public function handleRequest();}